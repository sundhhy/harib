     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 [FILE "fifo.c"]
     7                                          [SECTION .text]
     8 00000000                                 	GLOBAL	_fifo8_init
     9 00000000                                 _fifo8_init:
    10 00000000 55                              	PUSH	EBP
    11 00000001 89 E5                           	MOV	EBP,ESP
    12 00000003 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    13 00000006 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    14 00000009 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    15 0000000C 89 10                           	MOV	DWORD [EAX],EDX
    16 0000000E 89 48 0C                        	MOV	DWORD [12+EAX],ECX
    17 00000011 89 48 10                        	MOV	DWORD [16+EAX],ECX
    18 00000014 C7 40 04 00000000               	MOV	DWORD [4+EAX],0
    19 0000001B C7 40 08 00000000               	MOV	DWORD [8+EAX],0
    20 00000022 C7 40 14 00000000               	MOV	DWORD [20+EAX],0
    21 00000029 5D                              	POP	EBP
    22 0000002A C3                              	RET
    23 0000002B                                 	GLOBAL	_fifo32_init
    24 0000002B                                 _fifo32_init:
    25 0000002B 55                              	PUSH	EBP
    26 0000002C 89 E5                           	MOV	EBP,ESP
    27 0000002E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    28 00000031 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    29 00000034 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    30 00000037 89 10                           	MOV	DWORD [EAX],EDX
    31 00000039 89 48 0C                        	MOV	DWORD [12+EAX],ECX
    32 0000003C 89 48 10                        	MOV	DWORD [16+EAX],ECX
    33 0000003F C7 40 04 00000000               	MOV	DWORD [4+EAX],0
    34 00000046 C7 40 08 00000000               	MOV	DWORD [8+EAX],0
    35 0000004D C7 40 14 00000000               	MOV	DWORD [20+EAX],0
    36 00000054 5D                              	POP	EBP
    37 00000055 C3                              	RET
    38 00000056                                 	GLOBAL	_fifo8_put
    39 00000056                                 _fifo8_put:
    40 00000056 55                              	PUSH	EBP
    41 00000057 89 E5                           	MOV	EBP,ESP
    42 00000059 53                              	PUSH	EBX
    43 0000005A 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
    44 0000005D 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
    45 00000060 83 79 10 00                     	CMP	DWORD [16+ECX],0
    46 00000064 75 0A                           	JNE	L4
    47 00000066 83 49 14 01                     	OR	DWORD [20+ECX],1
    48 0000006A 83 C8 FF                        	OR	EAX,-1
    49 0000006D                                 L3:
    50 0000006D 5B                              	POP	EBX
    51 0000006E 5D                              	POP	EBP
    52 0000006F C3                              	RET
    53 00000070                                 L4:
    54 00000070 8B 01                           	MOV	EAX,DWORD [ECX]
    55 00000072 8B 51 04                        	MOV	EDX,DWORD [4+ECX]
    56 00000075 88 1C 02                        	MOV	BYTE [EDX+EAX*1],BL
    57 00000078 8B 41 04                        	MOV	EAX,DWORD [4+ECX]
    58 0000007B 40                              	INC	EAX
    59 0000007C 89 41 04                        	MOV	DWORD [4+ECX],EAX
    60 0000007F 3B 41 0C                        	CMP	EAX,DWORD [12+ECX]
    61 00000082 74 07                           	JE	L6
    62 00000084                                 L5:
    63 00000084 FF 49 10                        	DEC	DWORD [16+ECX]
    64 00000087 31 C0                           	XOR	EAX,EAX
    65 00000089 EB E2                           	JMP	L3
    66 0000008B                                 L6:
    67 0000008B C7 41 04 00000000               	MOV	DWORD [4+ECX],0
    68 00000092 EB F0                           	JMP	L5
    69 00000094                                 	GLOBAL	_fifo32_put
    70 00000094                                 _fifo32_put:
    71 00000094 55                              	PUSH	EBP
    72 00000095 89 E5                           	MOV	EBP,ESP
    73 00000097 53                              	PUSH	EBX
    74 00000098 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    75 0000009B 83 7B 10 00                     	CMP	DWORD [16+EBX],0
    76 0000009F 75 0A                           	JNE	L8
    77 000000A1 83 4B 14 01                     	OR	DWORD [20+EBX],1
    78 000000A5 83 C8 FF                        	OR	EAX,-1
    79 000000A8                                 L7:
    80 000000A8 5B                              	POP	EBX
    81 000000A9 5D                              	POP	EBP
    82 000000AA C3                              	RET
    83 000000AB                                 L8:
    84 000000AB 8B 4B 04                        	MOV	ECX,DWORD [4+EBX]
    85 000000AE 8B 13                           	MOV	EDX,DWORD [EBX]
    86 000000B0 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
    87 000000B3 89 04 8A                        	MOV	DWORD [EDX+ECX*4],EAX
    88 000000B6 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
    89 000000B9 40                              	INC	EAX
    90 000000BA 89 43 04                        	MOV	DWORD [4+EBX],EAX
    91 000000BD 3B 43 0C                        	CMP	EAX,DWORD [12+EBX]
    92 000000C0 74 07                           	JE	L10
    93 000000C2                                 L9:
    94 000000C2 FF 4B 10                        	DEC	DWORD [16+EBX]
    95 000000C5 31 C0                           	XOR	EAX,EAX
    96 000000C7 EB DF                           	JMP	L7
    97 000000C9                                 L10:
    98 000000C9 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
    99 000000D0 EB F0                           	JMP	L9
   100 000000D2                                 	GLOBAL	_fifo8_get
   101 000000D2                                 _fifo8_get:
   102 000000D2 55                              	PUSH	EBP
   103 000000D3 83 C8 FF                        	OR	EAX,-1
   104 000000D6 89 E5                           	MOV	EBP,ESP
   105 000000D8 56                              	PUSH	ESI
   106 000000D9 53                              	PUSH	EBX
   107 000000DA 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   108 000000DD 8B 71 10                        	MOV	ESI,DWORD [16+ECX]
   109 000000E0 8B 59 0C                        	MOV	EBX,DWORD [12+ECX]
   110 000000E3 39 DE                           	CMP	ESI,EBX
   111 000000E5 74 19                           	JE	L11
   112 000000E7 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
   113 000000EA 8B 11                           	MOV	EDX,DWORD [ECX]
   114 000000EC 0F B6 14 10                     	MOVZX	EDX,BYTE [EAX+EDX*1]
   115 000000F0 40                              	INC	EAX
   116 000000F1 89 41 08                        	MOV	DWORD [8+ECX],EAX
   117 000000F4 39 D8                           	CMP	EAX,EBX
   118 000000F6 74 0C                           	JE	L14
   119 000000F8                                 L13:
   120 000000F8 8D 46 01                        	LEA	EAX,DWORD [1+ESI]
   121 000000FB 89 41 10                        	MOV	DWORD [16+ECX],EAX
   122 000000FE 89 D0                           	MOV	EAX,EDX
   123 00000100                                 L11:
   124 00000100 5B                              	POP	EBX
   125 00000101 5E                              	POP	ESI
   126 00000102 5D                              	POP	EBP
   127 00000103 C3                              	RET
   128 00000104                                 L14:
   129 00000104 C7 41 08 00000000               	MOV	DWORD [8+ECX],0
   130 0000010B EB EB                           	JMP	L13
   131 0000010D                                 	GLOBAL	_fifo32_get
   132 0000010D                                 _fifo32_get:
   133 0000010D 55                              	PUSH	EBP
   134 0000010E 83 C8 FF                        	OR	EAX,-1
   135 00000111 89 E5                           	MOV	EBP,ESP
   136 00000113 56                              	PUSH	ESI
   137 00000114 53                              	PUSH	EBX
   138 00000115 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   139 00000118 8B 71 10                        	MOV	ESI,DWORD [16+ECX]
   140 0000011B 8B 59 0C                        	MOV	EBX,DWORD [12+ECX]
   141 0000011E 39 DE                           	CMP	ESI,EBX
   142 00000120 74 18                           	JE	L15
   143 00000122 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
   144 00000125 8B 11                           	MOV	EDX,DWORD [ECX]
   145 00000127 8B 14 82                        	MOV	EDX,DWORD [EDX+EAX*4]
   146 0000012A 40                              	INC	EAX
   147 0000012B 89 41 08                        	MOV	DWORD [8+ECX],EAX
   148 0000012E 39 D8                           	CMP	EAX,EBX
   149 00000130 74 0C                           	JE	L18
   150 00000132                                 L17:
   151 00000132 8D 46 01                        	LEA	EAX,DWORD [1+ESI]
   152 00000135 89 41 10                        	MOV	DWORD [16+ECX],EAX
   153 00000138 89 D0                           	MOV	EAX,EDX
   154 0000013A                                 L15:
   155 0000013A 5B                              	POP	EBX
   156 0000013B 5E                              	POP	ESI
   157 0000013C 5D                              	POP	EBP
   158 0000013D C3                              	RET
   159 0000013E                                 L18:
   160 0000013E C7 41 08 00000000               	MOV	DWORD [8+ECX],0
   161 00000145 EB EB                           	JMP	L17
   162 00000147                                 	GLOBAL	_fifo8_status
   163 00000147                                 _fifo8_status:
   164 00000147 55                              	PUSH	EBP
   165 00000148 89 E5                           	MOV	EBP,ESP
   166 0000014A 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   167 0000014D 5D                              	POP	EBP
   168 0000014E 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
   169 00000151 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
   170 00000154 C3                              	RET
   171 00000155                                 	GLOBAL	_fifo32_status
   172 00000155                                 _fifo32_status:
   173 00000155 55                              	PUSH	EBP
   174 00000156 89 E5                           	MOV	EBP,ESP
   175 00000158 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   176 0000015B 5D                              	POP	EBP
   177 0000015C 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
   178 0000015F 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
   179 00000162 C3                              	RET
