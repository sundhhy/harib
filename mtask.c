#include <stdio.h>
#include "bootpack.h"
//============================================================================//
//            G L O B A L   D E F I N I T I O N S                             //
//============================================================================//

//------------------------------------------------------------------------------
// const defines
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// module global vars
//------------------------------------------------------------------------------

struct TIMER *p_mt_timer;

//------------------------------------------------------------------------------
// global function prototypes
//------------------------------------------------------------------------------

//============================================================================//
//            P R I V A T E   D E F I N I T I O N S                           //
//============================================================================//

//------------------------------------------------------------------------------
// const defines
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// local types
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// local vars
//------------------------------------------------------------------------------
static int mt_tr;

//------------------------------------------------------------------------------
// local function prototypes
//------------------------------------------------------------------------------

//============================================================================//
//            P U B L I C   F U N C T I O N S                                 //
//============================================================================//
void Mt_init(void)
{
	
    p_mt_timer = timer_alloc();
    timer_settime( p_mt_timer, 2);
    mt_tr = 3 * 8;
    return;
}

void Mt_taskSwitch(void)
{
    if(  mt_tr == 3 * 8)
    {
        mt_tr = 4 * 8;
        
    }
    else
    {
        mt_tr = 3 * 8;
    }
    timer_settime( p_mt_timer, 2);
    farjmp(0, mt_tr);
    return;
}
//=========================================================================//
//                                                                         //
//          P R I V A T E   D E F I N I T I O N S                          //
//                                                                         //
//=========================================================================//
/// \name Private Functions
/// \{













